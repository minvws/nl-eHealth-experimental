{
  "$schema" : "http://json-schema.org/schema#",
  "$id" : "https://github.com/nl-eHealth-experimental/examples/EUVAC/vaccinationDisclosure.PrivateVenue.schema.json",
  "type" : "object",
  "properties" : {
    "nam": { "type": "string", "$comment": "patient name as 'Initial. FamilyName'." },
    "sex": { "type": "string", "$comment": "patient sex." },
    "gen": { "type": "string", "$comment": "patient gender." },
    "v": { "type": "array", "items": "#/definitions/vaccinationEvent", "minItems": 1 },
    "t": { "type": "#/definitions/test" },
    "r": { "type": "#/definitions/recovery" },
    "c": { "type": "#/definitions/certificate" },
    "dsc": { "type": "string", "minLength": 12, "maxLength": 12, "$comment": "8 bytes of SHA256 of DSC certificate in base45." }
  },
  "required": [ "nam", "sex", "v", "c", "dsc" ],
  "definitions" : {
      "test": {
          "type": "object",
          "properties": {
              "tg" : {"type":"string", "$comment" : "Disease or Agent Targeted." },
              "ro" : {"type":"string", "format":"date-time", "$comment" : "Result occurence." },
              "st" : {"type":"string", "$comment" : "Status." }
          },
          "required": ["tg", "ro", "st"]
      },
      "vaccinationEvent" : {
          "type" : "object",
          "properties" : {
              "tg" : {"type":"string", "$comment" : "Disease or Agent Targeted as codeableConcept." }
          },
          "required": ["tg"]
      },
      "recovery": {
        "type": "object",
        "properties": {
            "tg" : {"type":"string", "$comment" : "Disease or Agent Targeted as codeableConcept." },
            "fr" : {"type":"string", "format":"date", "$comment" : "Valid From." }
        },
        "required": ["tg", "fr"]
      },
      "certificate": {
          "type": "object",
          "properties": {
              "is" : {"type":"string", "$comment" : "Issuer" },
              "st" : {"type":"string", "format":"date-time", "$comment" : "Valid from" },
              "en" : {"type":"string", "format":"date-time", "$comment" : "Valid until" },
              "vr" : {"type":"string", "$comment" : "Schema version, semver" },
              "ia" : {"type":"string", "$comment" : "Issuing Authority" }
          },
          "required": ["id", "is", "ia", "st", "en", "vr"]
      }
  }
}